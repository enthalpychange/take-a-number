{% extends 'datatables.html' %}

{% block content %}
<div class="container">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Incidents</h5>
      <table id="incidents_table" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Ticket Number</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
          {% for incident in incidents %}
            <tr>
                <td><a href="{% url 'tracker:incident-detail' incident.id %}">{{ incident.id }}</a></td>
                <td>{{ incident.name }}</td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock content %}

{% block javascript %}
{{ block.super }}
<script type='text/javascript'>
$(document).ready(function() {
  $('#incidents_table').DataTable();
});
</script>
{% endblock javascript %}